#!/usr/bin/env zsh

### ALIASES ###
# Default modifiers
alias clear='printf "\033c"'
alias cower='cower --color auto'
alias df='df -kTh'
alias du='du -kh'
alias ed='ed -p: -v'
alias free='free -h'
alias iotop='sudo iotop -o'
alias pdflatex='pdflatex -halt-on-error'
alias pgrep='pgrep -afl'
alias shred='shred -uv'
alias sudo='sudo -EH'
alias view='vim -R'
alias vim='vim -p'
alias which='which -a'
alias xsnow='xsnow -nokeepsnow -notrees'

# Modifiers on file operations
alias cp='cp -v'
alias ln='ln -v'
alias mv='mv -v'
alias rmln='rmln -v'

# Platform-specific commands
case "$(uname)" in
	Darwin)
		alias chmod='chmod -v'
		alias df='df -kh'
		alias grep='grep -I --color=auto'
		alias ls='ls -GFL'
		alias rm='rm -v'
		alias stat='gstat'
		alias vim='env vim -p'
		;;
	Linux)
		alias chmod='chmod -c --preserve-root'
		alias ls='ls -hHFNv --group-directories-first --color=tty'
		alias rm='rm -v --one-file-system'
		alias grep='grep -I --color'
		alias egrep='egrep --color=auto'
		alias fgrep='fgrep --color=auto'
		alias open='xdg-open'
		alias pbcopy='xclip -i'
		alias pbpaste='xclip -o'
		alias rmdir='rmdir -v'
		;;
esac

if which gls > /dev/null; then
	alias ls='gls -hHFN --group-directories-first --color=tty'
fi

# Colorize output
alias diff='colordiff'
alias less='less -RMi'

# Derivative commands
alias cpa='cp -a'
alias la='ls -A'
alias latr='ls -Altr'
alias lc='ls -ltcr'      # Sort by change time, most recent last
alias lk='ls -lSr'       # Sort by size, biggest last
alias ll='ls -l'
alias lla='ls -Al'
alias lm='ll | less'
alias ltr='ls -ltr'      # Sort by date, most recent last
alias lu='ls -ltur'      # Sort by access time, most recent last
alias lxb='ls -lXB'      # Sort by extension

# Shortcut commands
alias allgrp='cut -d: -f1 /etc/group'
alias allusr='cut -d: -f1 /etc/passwd'
alias ctime='date +"%A %B %d, %Y %I:%M:%S %p"'
alias define='sdcv'
alias doc2pdf='libreoffice --headless --invisible --norestore --convert-to pdf'
alias dtail='dmesg | tail'
alias jctl='journalctl'
alias keyart='ssh-keygen -lv -f'
alias lsnet='env ls /sys/class/net'
alias nonetwork='LD_PRELOAD=/usr/local/lib/nonetwork.so'
alias sctl='systemctl'
alias sctlu='systemctl --user'
alias srcrc='source ~/.zshrc'
alias sshagent='eval $(ssh-agent -t 15m)'
alias tty-clock='/usr/local/scripts/wm/tty-clock.sh'
alias vii3='vim ~/.config/i3/config'
alias virc='vim -p ~/.zshrc ~/.zshrc.d/*'
alias vibrc='vim ~/.bashrc'
alias vimrc='vim ~/.vimrc'
alias week='date +%V'
alias ytalb='noglob youtube-dl -x --prefer-free-formats -o "%(autonumber)s - %(title)s.%(ext)s" --autonumber-size 2'
alias ytdl='noglob youtube-dl -f bestvideo+bestaudio --prefer-free-formats -i -o "%(title)s.%(ext)s"'
alias ytmp3='noglob youtube-dl -x -f bestaudio --prefer-free-formats -o "%(title)s.%(ext)s"'
alias md='mkdir -p'

# Valgrind shortcuts
alias memcheck='valgrind --tool=memcheck --track-origins=yes'
alias cachegrind='valgrind --tool=cachegrind'
alias callgrind='valgrind --tool=callgrind'
alias helgrind='valgrind --tool=helgrind'
alias drd='valgrind --tool=drd'
alias massif='valgrind --tool=massif'
alias dhat='valgrind --tool=dhat'
alias sgcheck='valgrind --tool=sgcheck'
alias bbv='valgrind --tool=bbv'
alias lackey='valgrind --tool=lackey'
alias nulgrind='valgrind --tool=none'

# gcalcli shortcuts
alias calm='gcalcli calm'
alias calw='gcalcli calw'
alias agenda='gcalcli agenda'
alias gadd='gcalcli add --calendar "grawcards@gmail.com"'

# File navigation commands
alias largest="find . -printf '%s %p\n' | sort -nr | head"
alias smallest="find . -printf '%s %p\n' | sort -nr | tail"

# For fun
alias chanstamp='date +%s%3N'
alias maze='Z=╱╲;for((;;)){ printf ${Z:RANDOM&1:1};sleep .01;};unset Z'
alias mpvnc='mpv --speed=1.5 --audio-pitch-correction=no --no-video'
alias mpvac='mpv --speed=0.67 --audio-pitch-correction=no --no-video'

### FUNCTIONS ###
# Shortcut commands
catls() { [[ -d "$1" ]] && ls "$1" || cat "$1"; }
cdls() { cd "$@" && ls; }
cdmv() { mv "$1" "$2" && cd "$2"; }
countf() { /usr/bin/ls -1 "$@" | wc -l; }
define2() { curl "dict://dict.org/d:$1"; }
digq() { dig "$@" | grep 'Query time'; }
lsicon() { ls /usr/share/icons/Numix-Circle/scalable/apps | grep "$1"; }
mkcd() { mkdir -p "$@" && cd "$@"; }
myip() { wget -qO- http://ipecho.net/plain; echo; }
pacbin() { pacman -Ql "$1" | /usr/bin/grep --color=never /bin/ | awk '{print $2}'; }
pexec() { echo "$@"; "$@"; }
pls() { sudo -- "${SHELL:-zsh}" -c "$(fc -ln -1)"; }
realwhich() { realpath "$(env which "$1")"; }
shreddit() { env shreddit -c "$HOME/.config/shreddit/$1.yml" -u "$1"; }
termbin() { nc termbin.com 9999; }
trash() { [[ $# -eq 0 ]] && trash-list || trash-put $@; }

# Misc
note() { env note "$@" 2> /dev/null; }

# Colorize text
red()    { printf "\e[31m\e[1m%s\e[0m" "$@"; }
green()  { printf "\e[32m\e[1m%s\e[0m" "$@"; }
blue()   { printf "\e[34m\e[1m%s\e[0m" "$@"; }
redl()   { printf "\e[31m%s\e[0m" "$@"; }
greenl() { printf "\e[32m%s\e[0m" "$@"; }
bluel()  { printf "\e[34m%s\e[0m" "$@"; }

# Hash checkers
md5check()    { [[ $(md5sum    "$2" | cut -d' ' -f1) == "$1" ]] && green '[OK]' || red '[FAIL]'; }
sha1check()   { [[ $(sha1sum   "$2" | cut -d' ' -f1) == "$1" ]] && green '[OK]' || red '[FAIL]'; }
sha224check() { [[ $(sha224sum "$2" | cut -d' ' -f1) == "$1" ]] && green '[OK]' || red '[FAIL]'; }
sha256check() { [[ $(sha256sum "$2" | cut -d' ' -f1) == "$1" ]] && green '[OK]' || red '[FAIL]'; }
sha384check() { [[ $(sha384sum "$2" | cut -d' ' -f1) == "$1" ]] && green '[OK]' || red '[FAIL]'; }
sha512check() { [[ $(sha512sum "$2" | cut -d' ' -f1) == "$1" ]] && green '[OK]' || red '[FAIL]'; }

# vim: set noet:
